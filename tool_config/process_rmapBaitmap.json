{
    "_id": "process_rmapBaitmap",
    "name": "Process rmapBaitmap",
    "title": "Pipeline to generate CHiCAGO input files",
    "short_description": "Generates .rmap and .baitmap files, start",
    "owner": {
        "institution": "EMBL-EBI",
        "author": "Pablo Acera",
        "contact": "pacera@ebi.ac.uk",
        "url": "https://github.com/Multiscale-Genomics"
    },
    "publication" : "https://doi.org/10.1186/s13059-016-0992-2",
    "external": true,
    "has_custom_viewer": false,
    "keywords": [
        "dna"
    ],
    "infrastructure": {
        "memory": 12,
        "cpus": 4,
        "executable": "/home/pmes/code/mg-process-test/process_test.py",
        "clouds": {}
    },
    "input_files": [
        {
            "name": "genome",
            "description": "genome with the indexed files in the same folder",
            "help": "path to the input file",
            "file_type": ["fasta"],
            "data_type": [
                "text"
            ],
            "required": true,
            "allow_multiple": false
        },
        {
            "name": "probes_fa",
            "description": "sequence probes used in the bait capture",
            "help": "path to the input file",
            "file_type": ["fasta"],
            "data_type": [
                "text"
            ],
            "required": true,
            "allow_multiple": false
        },
    ],
    "input_files_combinations": [
        [
            "input"
        ]
    ],
    "arguments": [
         {
            "name": "RE",
            "description": "RE site like A|AGCTT with | where cut",
            "help": "example config dict:   {'RE' : {'HindIII' : 'A|AGCTT'}}, it accepts more than one RE site",
            "type": "dict",
            "required": true,
            "default": "None"
        }
    ],
    "output_files": [
        {
            "name": "rmap",
            "required": true,
            "allow_multiple": false,
            "file": {
                "file_type": ".rmap",
                "meta_data": {
                    "visible": true,
                    "tool": "makeRmap_tool.py",
                    "description": "file with coordinates of RE fragments from the digested genome"
                },
                "file_path": "out_prefix_makeRmap.rmap",
                "data_type": "rmap",
                "compressed": ""
            }
        }
        {
            "name": "baitmap",
            "required": true,
            "allow_multiple": false,
            "file": {
                "file_type": ".baitmap",
                "meta_data": {
                    "visible": true,
                    "tool": "makeBaitmap.py",
                    "description": "file with coordinates of RE fragments from the digested genome that are baits"
                },
                "file_path": ".baitmap",
                "data_type": ".baitmap",
                "compressed": ""
            }
        }
        {
            "name": "Rtree_files",
            "required": true,
            "allow_multiple": false,
            "file": {
                "file_type": "['.idx','.dat']",
                "meta_data": {
                    "visible": true,
                    "tool": "makeRmap_tool.py",
                    "description": "files with the information of RE coordinates in binary to perform spatial index"
                },
                "file_path": "[rtree_file.idx, rtree_file.dat]",
                "data_type": "binary",
                "compressed": ""
            }
        }
        {
            "name": "out_sam",
            "required": true,
            "allow_multiple": false,
            "file": {
                "file_type": ".sam",
                "meta_data": {
                    "visible": true,
                    "tool": "makeBaitmap.py",
                    "description": "output of map the probes into the reference genome with bwa"
                },
                "file_path": "baits.sam",
                "data_type": "text",
                "compressed": ""
            }
        }
    ]
}
